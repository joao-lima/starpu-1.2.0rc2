<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>StarPU Handbook: MPI Support</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">StarPU Handbook
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__API__MPI__Support.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MPI Support</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Initialisation</h2></td></tr>
<tr class="memitem:gabefad62cd0f0ea270a95e97c0fae17d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gabefad62cd0f0ea270a95e97c0fae17d6">STARPU_USE_MPI</a></td></tr>
<tr class="separator:gabefad62cd0f0ea270a95e97c0fae17d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdb1e15d1fc805115d660848a711f101"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gabdb1e15d1fc805115d660848a711f101">starpu_mpi_init_comm</a> (int *argc, char ***argv, int initialize_mpi, MPI_Comm comm)</td></tr>
<tr class="separator:gabdb1e15d1fc805115d660848a711f101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga008d0df24380455d6b9301ae750ccd4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga008d0df24380455d6b9301ae750ccd4c">starpu_mpi_init</a> (int *argc, char ***argv, int initialize_mpi)</td></tr>
<tr class="separator:ga008d0df24380455d6b9301ae750ccd4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ec1ce958654468b20224c9ae772f98f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga0ec1ce958654468b20224c9ae772f98f">starpu_mpi_initialize</a> (void)</td></tr>
<tr class="separator:ga0ec1ce958654468b20224c9ae772f98f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga234e28905c976ed1b03fcdf75812a06d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga234e28905c976ed1b03fcdf75812a06d">starpu_mpi_initialize_extended</a> (int *rank, int *world_size)</td></tr>
<tr class="separator:ga234e28905c976ed1b03fcdf75812a06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87b22900dc132a958a0f7bce68d32153"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga87b22900dc132a958a0f7bce68d32153">starpu_mpi_shutdown</a> (void)</td></tr>
<tr class="separator:ga87b22900dc132a958a0f7bce68d32153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a6dcddd7eaf6cd3265fd837d67800a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga3a6dcddd7eaf6cd3265fd837d67800a2">starpu_mpi_comm_amounts_retrieve</a> (size_t *comm_amounts)</td></tr>
<tr class="separator:ga3a6dcddd7eaf6cd3265fd837d67800a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Communication</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp07a3dd247ad6bec7fe401aa11619959f"></a><a class="anchor" id="MPIPtpCommunication"></a></p>
</td></tr>
<tr class="memitem:gaca01fd4db21aebb91da808a3d03f36dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gaca01fd4db21aebb91da808a3d03f36dc">starpu_mpi_send</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, int dest, int mpi_tag, MPI_Comm comm)</td></tr>
<tr class="separator:gaca01fd4db21aebb91da808a3d03f36dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa92438804968616ed4fee7246ec254aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gaa92438804968616ed4fee7246ec254aa">starpu_mpi_recv</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, int source, int mpi_tag, MPI_Comm comm, MPI_Status *status)</td></tr>
<tr class="separator:gaa92438804968616ed4fee7246ec254aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc29de4080f202511f2b558673304b8c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gafc29de4080f202511f2b558673304b8c">starpu_mpi_isend</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, starpu_mpi_req *req, int dest, int mpi_tag, MPI_Comm comm)</td></tr>
<tr class="separator:gafc29de4080f202511f2b558673304b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb6c92b51c1e76408e0816385fde75c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gabb6c92b51c1e76408e0816385fde75c5">starpu_mpi_irecv</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, starpu_mpi_req *req, int source, int mpi_tag, MPI_Comm comm)</td></tr>
<tr class="separator:gabb6c92b51c1e76408e0816385fde75c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9506ceb82e72ab1096ac8443dbf13e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gae9506ceb82e72ab1096ac8443dbf13e4">starpu_mpi_isend_detached</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, int dest, int mpi_tag, MPI_Comm comm, void(*callback)(void *), void *arg)</td></tr>
<tr class="separator:gae9506ceb82e72ab1096ac8443dbf13e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdf54ffd31c0b0908d7751e1b2257897"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gabdf54ffd31c0b0908d7751e1b2257897">starpu_mpi_irecv_detached</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, int source, int mpi_tag, MPI_Comm comm, void(*callback)(void *), void *arg)</td></tr>
<tr class="separator:gabdf54ffd31c0b0908d7751e1b2257897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68cd36f12bdc9ee79034ee71b48ab8ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga68cd36f12bdc9ee79034ee71b48ab8ef">starpu_mpi_irecv_detached_sequential_consistency</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, int source, int mpi_tag, MPI_Comm comm, void(*callback)(void *), void *arg, int sequential_consistency)</td></tr>
<tr class="separator:ga68cd36f12bdc9ee79034ee71b48ab8ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8374cb42eb85e86e58ccfa8e0c5e8aab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga8374cb42eb85e86e58ccfa8e0c5e8aab">starpu_mpi_issend</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, starpu_mpi_req *req, int dest, int mpi_tag, MPI_Comm comm)</td></tr>
<tr class="separator:ga8374cb42eb85e86e58ccfa8e0c5e8aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad03f0a288bad79078045130b9a83188"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gaad03f0a288bad79078045130b9a83188">starpu_mpi_wait</a> (starpu_mpi_req *req, MPI_Status *status)</td></tr>
<tr class="separator:gaad03f0a288bad79078045130b9a83188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8e8389eb3e916131946028e9ebee670"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gae8e8389eb3e916131946028e9ebee670">starpu_mpi_test</a> (starpu_mpi_req *req, int *flag, MPI_Status *status)</td></tr>
<tr class="separator:gae8e8389eb3e916131946028e9ebee670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77aa675b91da2a069caeebdb11a3edc9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga77aa675b91da2a069caeebdb11a3edc9">starpu_mpi_barrier</a> (MPI_Comm comm)</td></tr>
<tr class="separator:ga77aa675b91da2a069caeebdb11a3edc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6957a62f85340484cbcebbf65b573c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gae6957a62f85340484cbcebbf65b573c4">starpu_mpi_isend_detached_unlock_tag</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, int dest, int mpi_tag, MPI_Comm comm, <a class="el" href="group__API__Explicit__Dependencies.html#ga6e19fdd4a84d04323ee05e9b7ec5990e">starpu_tag_t</a> tag)</td></tr>
<tr class="separator:gae6957a62f85340484cbcebbf65b573c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6cbbe5e484f38cb5e4e601330f2c5b0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga6cbbe5e484f38cb5e4e601330f2c5b0d">starpu_mpi_irecv_detached_unlock_tag</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, int source, int mpi_tag, MPI_Comm comm, <a class="el" href="group__API__Explicit__Dependencies.html#ga6e19fdd4a84d04323ee05e9b7ec5990e">starpu_tag_t</a> tag)</td></tr>
<tr class="separator:ga6cbbe5e484f38cb5e4e601330f2c5b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga546dbbe7e9e40817b23bd37fb0eccfe1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga546dbbe7e9e40817b23bd37fb0eccfe1">starpu_mpi_isend_array_detached_unlock_tag</a> (unsigned array_size, <a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> *data_handle, int *dest, int *mpi_tag, MPI_Comm *comm, <a class="el" href="group__API__Explicit__Dependencies.html#ga6e19fdd4a84d04323ee05e9b7ec5990e">starpu_tag_t</a> tag)</td></tr>
<tr class="separator:ga546dbbe7e9e40817b23bd37fb0eccfe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11f71926b324d325d8a6f6b72b58cdf1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga11f71926b324d325d8a6f6b72b58cdf1">starpu_mpi_irecv_array_detached_unlock_tag</a> (unsigned array_size, <a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> *data_handle, int *source, int *mpi_tag, MPI_Comm *comm, <a class="el" href="group__API__Explicit__Dependencies.html#ga6e19fdd4a84d04323ee05e9b7ec5990e">starpu_tag_t</a> tag)</td></tr>
<tr class="separator:ga11f71926b324d325d8a6f6b72b58cdf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d0194c08bd343a68c833f449fb62fa8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga1d0194c08bd343a68c833f449fb62fa8">starpu_mpi_get_communication_tag</a> (void)</td></tr>
<tr class="separator:ga1d0194c08bd343a68c833f449fb62fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa734bb0c57e4a48a7fe6e41f2e563e68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gaa734bb0c57e4a48a7fe6e41f2e563e68">starpu_mpi_set_communication_tag</a> (int tag)</td></tr>
<tr class="separator:gaa734bb0c57e4a48a7fe6e41f2e563e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Communication Cache</h2></td></tr>
<tr class="memitem:gac0558236c9fb4cfc333f413c0ca191a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gac0558236c9fb4cfc333f413c0ca191a9">starpu_mpi_cache_is_enabled</a> ()</td></tr>
<tr class="separator:gac0558236c9fb4cfc333f413c0ca191a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82dceaf1ad42b9a0ab4ed22f9c03b1a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga82dceaf1ad42b9a0ab4ed22f9c03b1a8">starpu_mpi_cache_set</a> (int enabled)</td></tr>
<tr class="separator:ga82dceaf1ad42b9a0ab4ed22f9c03b1a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb05635d95f946f099a1772c8bd59c8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gacb05635d95f946f099a1772c8bd59c8b">starpu_mpi_cache_flush</a> (MPI_Comm comm, <a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle)</td></tr>
<tr class="separator:gacb05635d95f946f099a1772c8bd59c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf1f289d1cf35bd31df930bc347fb9ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gadf1f289d1cf35bd31df930bc347fb9ce">starpu_mpi_cache_flush_all_data</a> (MPI_Comm comm)</td></tr>
<tr class="separator:gadf1f289d1cf35bd31df930bc347fb9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
MPI Insert Task</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpfd2418b40347b7f027d83bdc103982f8"></a><a class="anchor" id="MPIInsertTask"></a></p>
</td></tr>
<tr class="memitem:gac45e4d77c3d077955bcdc6e1bf0e8cd8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gac45e4d77c3d077955bcdc6e1bf0e8cd8">starpu_mpi_data_register</a>(data_handle,  tag,  rank)</td></tr>
<tr class="separator:gac45e4d77c3d077955bcdc6e1bf0e8cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42225d9bf5ed973056f29f9b86907c8d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga42225d9bf5ed973056f29f9b86907c8d">starpu_data_set_tag</a></td></tr>
<tr class="separator:ga42225d9bf5ed973056f29f9b86907c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79ca5db23d267ee7c199864993e434a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga79ca5db23d267ee7c199864993e434a9">starpu_mpi_data_set_rank</a>(handle,  rank)</td></tr>
<tr class="separator:ga79ca5db23d267ee7c199864993e434a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadce715a49b477ef0204be1a199abfddb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gadce715a49b477ef0204be1a199abfddb">starpu_data_set_rank</a></td></tr>
<tr class="separator:gadce715a49b477ef0204be1a199abfddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5281ad23b39e64ca254347e89cbb54e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga5281ad23b39e64ca254347e89cbb54e2">starpu_data_get_rank</a></td></tr>
<tr class="separator:ga5281ad23b39e64ca254347e89cbb54e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf806ce3131edd757470c7401bd41bd7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gaaf806ce3131edd757470c7401bd41bd7">starpu_data_get_tag</a></td></tr>
<tr class="separator:gaaf806ce3131edd757470c7401bd41bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga750b87a6ea137c903f02c53029d1131d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga750b87a6ea137c903f02c53029d1131d">STARPU_EXECUTE_ON_NODE</a></td></tr>
<tr class="separator:ga750b87a6ea137c903f02c53029d1131d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc9112873f348b1f6daa0da4b93b061f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gadc9112873f348b1f6daa0da4b93b061f">STARPU_EXECUTE_ON_DATA</a></td></tr>
<tr class="separator:gadc9112873f348b1f6daa0da4b93b061f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83339cfcecff5b7e64f85e3e391aa783"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga83339cfcecff5b7e64f85e3e391aa783">starpu_mpi_data_register_comm</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, int tag, int rank, MPI_Comm comm)</td></tr>
<tr class="separator:ga83339cfcecff5b7e64f85e3e391aa783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5eb9762df37404b659a49daec17e9c82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga5eb9762df37404b659a49daec17e9c82">starpu_mpi_data_set_tag</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> handle, int tag)</td></tr>
<tr class="separator:ga5eb9762df37404b659a49daec17e9c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d4b05715446d730022ea8a1fbac4f60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga7d4b05715446d730022ea8a1fbac4f60">starpu_mpi_data_set_rank_comm</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> handle, int rank, MPI_Comm comm)</td></tr>
<tr class="separator:ga7d4b05715446d730022ea8a1fbac4f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a464b972068bac652622d6a1ed0a996"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga0a464b972068bac652622d6a1ed0a996">starpu_mpi_data_get_rank</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> handle)</td></tr>
<tr class="separator:ga0a464b972068bac652622d6a1ed0a996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf1e74720ea6884fd8d1ded3cb4eaae9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gacf1e74720ea6884fd8d1ded3cb4eaae9">starpu_mpi_data_get_tag</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> handle)</td></tr>
<tr class="separator:gacf1e74720ea6884fd8d1ded3cb4eaae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04229edbc905be8eefce8fb58bfccf8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga04229edbc905be8eefce8fb58bfccf8f">starpu_mpi_insert_task</a> (MPI_Comm comm, struct <a class="el" href="group__API__Codelet__And__Tasks.html#structstarpu__codelet">starpu_codelet</a> *codelet,...)</td></tr>
<tr class="separator:ga04229edbc905be8eefce8fb58bfccf8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa823d6398e61516bba887b90ad048914"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gaa823d6398e61516bba887b90ad048914">starpu_mpi_task_insert</a> (MPI_Comm comm, struct <a class="el" href="group__API__Codelet__And__Tasks.html#structstarpu__codelet">starpu_codelet</a> *codelet,...)</td></tr>
<tr class="separator:gaa823d6398e61516bba887b90ad048914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03f635684df3c110aea79ebd59f73165"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="group__API__Codelet__And__Tasks.html#structstarpu__task">starpu_task</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga03f635684df3c110aea79ebd59f73165">starpu_mpi_task_build</a> (MPI_Comm comm, struct <a class="el" href="group__API__Codelet__And__Tasks.html#structstarpu__codelet">starpu_codelet</a> *codelet,...)</td></tr>
<tr class="separator:ga03f635684df3c110aea79ebd59f73165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c609f3cc579af484808b3e1b8b787d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga9c609f3cc579af484808b3e1b8b787d9">starpu_mpi_task_post_build</a> (MPI_Comm comm, struct <a class="el" href="group__API__Codelet__And__Tasks.html#structstarpu__codelet">starpu_codelet</a> *codelet,...)</td></tr>
<tr class="separator:ga9c609f3cc579af484808b3e1b8b787d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ca9fc89dc1315bf32f38cd14caf24a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga0ca9fc89dc1315bf32f38cd14caf24a5">starpu_mpi_get_data_on_node</a> (MPI_Comm comm, <a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, int node)</td></tr>
<tr class="separator:ga0ca9fc89dc1315bf32f38cd14caf24a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c581f7133773a98b583e0c51970ecb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga6c581f7133773a98b583e0c51970ecb7">starpu_mpi_get_data_on_node_detached</a> (MPI_Comm comm, <a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle, int node, void(*callback)(void *), void *arg)</td></tr>
<tr class="separator:ga6c581f7133773a98b583e0c51970ecb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Node Selection Policy</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpd20721c287d225e516b2ca38140a3ecd"></a><a class="anchor" id="MPINodeSelectionPolicy"></a></p>
</td></tr>
<tr class="memitem:ga9eb17d58fc8f0c33fc4e5985d440079e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga9eb17d58fc8f0c33fc4e5985d440079e">starpu_mpi_node_selection_get_current_policy</a> ()</td></tr>
<tr class="separator:ga9eb17d58fc8f0c33fc4e5985d440079e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35f7d1ea8e747cbf1637301b14ef0db8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga35f7d1ea8e747cbf1637301b14ef0db8">starpu_mpi_node_selection_set_current_policy</a> (int policy)</td></tr>
<tr class="separator:ga35f7d1ea8e747cbf1637301b14ef0db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab69b1f823043d16b7d0d799d1ad88a04"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gab69b1f823043d16b7d0d799d1ad88a04">starpu_mpi_node_selection_register_policy</a> (starpu_mpi_select_node_policy_func_t policy_func)</td></tr>
<tr class="separator:gab69b1f823043d16b7d0d799d1ad88a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6453ef7697756dd3b1746399eec4867"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gad6453ef7697756dd3b1746399eec4867">starpu_mpi_node_selection_unregister_policy</a> (int policy)</td></tr>
<tr class="separator:gad6453ef7697756dd3b1746399eec4867"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Collective Operations</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp34689ef25b77421c7ca500ad0ad800a7"></a><a class="anchor" id="MPICollectiveOperations"></a></p>
</td></tr>
<tr class="memitem:ga565996704c6707a55410488f8d569357"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga565996704c6707a55410488f8d569357">starpu_mpi_redux_data</a> (MPI_Comm comm, <a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data_handle)</td></tr>
<tr class="separator:ga565996704c6707a55410488f8d569357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39ae075749aef08653ade368b9a95ee0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#ga39ae075749aef08653ade368b9a95ee0">starpu_mpi_scatter_detached</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> *data_handles, int count, int root, MPI_Comm comm, void(*scallback)(void *), void *sarg, void(*rcallback)(void *), void *rarg)</td></tr>
<tr class="separator:ga39ae075749aef08653ade368b9a95ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf83405a3154137f00ccf554c5e5684b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API__MPI__Support.html#gaf83405a3154137f00ccf554c5e5684b5">starpu_mpi_gather_detached</a> (<a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> *data_handles, int count, int root, MPI_Comm comm, void(*scallback)(void *), void *sarg, void(*rcallback)(void *), void *rarg)</td></tr>
<tr class="separator:gaf83405a3154137f00ccf554c5e5684b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gabefad62cd0f0ea270a95e97c0fae17d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STARPU_USE_MPI</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro is defined when StarPU has been installed with MPI support. It should be used in your code to detect the availability of MPI. </p>

</div>
</div>
<a class="anchor" id="gac45e4d77c3d077955bcdc6e1bf0e8cd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define starpu_mpi_data_register</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data_handle, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tag, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rank&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register to MPI a StarPU data handle with the given tag, rank and the MPI communicator MPI_COMM_WORLD. It also automatically clears the MPI communication cache when unregistering the data. </p>

</div>
</div>
<a class="anchor" id="ga42225d9bf5ed973056f29f9b86907c8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define starpu_data_set_tag</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Symbol kept for backward compatibility. Calling function starpu_mpi_data_set_tag </p>

</div>
</div>
<a class="anchor" id="ga79ca5db23d267ee7c199864993e434a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define starpu_mpi_data_set_rank</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">handle, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rank&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register to MPI a StarPU data handle with the given rank and the MPI communicator MPI_COMM_WORLD. No tag will be defined. It also automatically clears the MPI communication cache when unregistering the data. Symbol kept for backward compatibility. Calling function starpu_mpi_data_set_rank </p>

</div>
</div>
<a class="anchor" id="gadce715a49b477ef0204be1a199abfddb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define starpu_data_set_rank</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register to MPI a StarPU data handle with the given rank and the MPI communicator MPI_COMM_WORLD. No tag will be defined. It also automatically clears the MPI communication cache when unregistering the data. Symbol kept for backward compatibility. Calling function starpu_mpi_data_set_rank </p>

</div>
</div>
<a class="anchor" id="ga5281ad23b39e64ca254347e89cbb54e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define starpu_data_get_rank</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the rank of the given data. Symbol kept for backward compatibility. Calling function starpu_mpi_data_get_rank </p>

</div>
</div>
<a class="anchor" id="gaaf806ce3131edd757470c7401bd41bd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define starpu_data_get_tag</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the tag of the given data. Symbol kept for backward compatibility. Calling function starpu_mpi_data_get_tag </p>

</div>
</div>
<a class="anchor" id="ga750b87a6ea137c903f02c53029d1131d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STARPU_EXECUTE_ON_NODE</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this macro is used when calling <a class="el" href="group__API__MPI__Support.html#gaa823d6398e61516bba887b90ad048914">starpu_mpi_task_insert()</a>, and must be followed by a integer value which specified the node on which to execute the codelet. </p>

</div>
</div>
<a class="anchor" id="gadc9112873f348b1f6daa0da4b93b061f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STARPU_EXECUTE_ON_DATA</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this macro is used when calling <a class="el" href="group__API__MPI__Support.html#gaa823d6398e61516bba887b90ad048914">starpu_mpi_task_insert()</a>, and must be followed by a data handle to specify that the node owning the given data will execute the codelet. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gabdb1e15d1fc805115d660848a711f101"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_init_comm </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char ***&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>initialize_mpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the starpumpi library with the given communicator. <code>initialize_mpi</code> indicates if MPI should be initialized or not by StarPU. If the value is not 0, MPI will be initialized by calling <code>MPI_Init_Thread(argc, argv, MPI_THREAD_SERIALIZED, ...)</code>. </p>

</div>
</div>
<a class="anchor" id="ga008d0df24380455d6b9301ae750ccd4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_init </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char ***&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>initialize_mpi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call <a class="el" href="group__API__MPI__Support.html#gabdb1e15d1fc805115d660848a711f101">starpu_mpi_init_comm()</a> with the MPI communicator MPI_COMM_WORLD. </p>

</div>
</div>
<a class="anchor" id="ga0ec1ce958654468b20224c9ae772f98f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_initialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000007">Deprecated:</a></b></dt><dd>This function has been made deprecated. One should use instead the function <a class="el" href="group__API__MPI__Support.html#ga008d0df24380455d6b9301ae750ccd4c">starpu_mpi_init()</a>. This function does not call MPI_Init(), it should be called beforehand.</dd></dl>

</div>
</div>
<a class="anchor" id="ga234e28905c976ed1b03fcdf75812a06d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_initialize_extended </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>world_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000008">Deprecated:</a></b></dt><dd>This function has been made deprecated. One should use instead the function <a class="el" href="group__API__MPI__Support.html#ga008d0df24380455d6b9301ae750ccd4c">starpu_mpi_init()</a>. MPI will be initialized by starpumpi by calling <code>MPI_Init_Thread(argc, argv, MPI_THREAD_SERIALIZED, ...)</code>.</dd></dl>

</div>
</div>
<a class="anchor" id="ga87b22900dc132a958a0f7bce68d32153"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cleans the starpumpi library. This must be called between calling starpu_mpi functions and <a class="el" href="group__API__Initialization__and__Termination.html#ga48edf5e30e71fbb71923e3867ad16c0a">starpu_shutdown()</a>. MPI_Finalize() will be called if StarPU-MPI has been initialized by <a class="el" href="group__API__MPI__Support.html#ga008d0df24380455d6b9301ae750ccd4c">starpu_mpi_init()</a>. </p>

</div>
</div>
<a class="anchor" id="ga3a6dcddd7eaf6cd3265fd837d67800a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_mpi_comm_amounts_retrieve </td>
          <td>(</td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>comm_amounts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the current amount of communications from the current node in the array <code>comm_amounts</code> which must have a size greater or equal to the world size. Communications statistics must be enabled (see <a class="el" href="ExecutionConfigurationThroughEnvironmentVariables.html#STARPU_COMM_STATS">STARPU_COMM_STATS</a>). </p>

</div>
</div>
<a class="anchor" id="gaca01fd4db21aebb91da808a3d03f36dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a standard-mode, blocking send of <code>data_handle</code> to the node <code>dest</code> using the message tag <code>mpi_tag</code> within the communicator <code>comm</code>. </p>

</div>
</div>
<a class="anchor" id="gaa92438804968616ed4fee7246ec254aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Status *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a standard-mode, blocking receive in <code>data_handle</code> from the node <code>source</code> using the message tag <code>mpi_tag</code> within the communicator <code>comm</code>. </p>

</div>
</div>
<a class="anchor" id="gafc29de4080f202511f2b558673304b8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_isend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">starpu_mpi_req *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Posts a standard-mode, non blocking send of <code>data_handle</code> to the node <code>dest</code> using the message tag <code>mpi_tag</code> within the communicator <code>comm</code>. After the call, the pointer to the request <code>req</code> can be used to test or to wait for the completion of the communication. </p>

</div>
</div>
<a class="anchor" id="gabb6c92b51c1e76408e0816385fde75c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_irecv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">starpu_mpi_req *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Posts a nonblocking receive in <code>data_handle</code> from the node <code>source</code> using the message tag <code>mpi_tag</code> within the communicator <code>comm</code>. After the call, the pointer to the request <code>req</code> can be used to test or to wait for the completion of the communication. </p>

</div>
</div>
<a class="anchor" id="gae9506ceb82e72ab1096ac8443dbf13e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_isend_detached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Posts a standard-mode, non blocking send of <code>data_handle</code> to the node <code>dest</code> using the message tag <code>mpi_tag</code> within the communicator <code>comm</code>. On completion, the <code>callback</code> function is called with the argument <code>arg</code>. Similarly to the pthread detached functionality, when a detached communication completes, its resources are automatically released back to the system, there is no need to test or to wait for the completion of the request. </p>

</div>
</div>
<a class="anchor" id="gabdf54ffd31c0b0908d7751e1b2257897"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_irecv_detached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Posts a nonblocking receive in <code>data_handle</code> from the node <code>source</code> using the message tag <code>mpi_tag</code> within the communicator <code>comm</code>. On completion, the <code>callback</code> function is called with the argument <code>arg</code>. Similarly to the pthread detached functionality, when a detached communication completes, its resources are automatically released back to the system, there is no need to test or to wait for the completion of the request. </p>

</div>
</div>
<a class="anchor" id="ga68cd36f12bdc9ee79034ee71b48ab8ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_irecv_detached_sequential_consistency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sequential_consistency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Posts a nonblocking receive in <code>data_handle</code> from the node <code>source</code> using the message tag <code>mpi_tag</code> within the communicator <code>comm</code>. On completion, the <code>callback</code> function is called with the argument <code>arg</code>. The parameter <code>sequential_consistency</code> allows to enable or disable the sequential consistency for <code>data</code> handle (sequential consistency will be enabled or disabled based on the value of the parameter <code>sequential_consistency</code> and the value of the sequential consistency defined for <code>data_handle</code>). Similarly to the pthread detached functionality, when a detached communication completes, its resources are automatically released back to the system, there is no need to test or to wait for the completion of the request. </p>

</div>
</div>
<a class="anchor" id="ga8374cb42eb85e86e58ccfa8e0c5e8aab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_issend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">starpu_mpi_req *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a synchronous-mode, non-blocking send of <code>data_handle</code> to the node <code>dest</code> using the message tag <code>mpi_tag</code> within the communicator <code>comm</code>. </p>

</div>
</div>
<a class="anchor" id="gaad03f0a288bad79078045130b9a83188"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_wait </td>
          <td>(</td>
          <td class="paramtype">starpu_mpi_req *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Status *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns when the operation identified by request <code>req</code> is complete. </p>

</div>
</div>
<a class="anchor" id="gae8e8389eb3e916131946028e9ebee670"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_test </td>
          <td>(</td>
          <td class="paramtype">starpu_mpi_req *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Status *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the operation identified by <code>req</code> is complete, set <code>flag</code> to 1. The <code>status</code> object is set to contain information on the completed operation. </p>

</div>
</div>
<a class="anchor" id="ga77aa675b91da2a069caeebdb11a3edc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_barrier </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Blocks the caller until all group members of the communicator <code>comm</code> have called it. </p>

</div>
</div>
<a class="anchor" id="gae6957a62f85340484cbcebbf65b573c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_isend_detached_unlock_tag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__API__Explicit__Dependencies.html#ga6e19fdd4a84d04323ee05e9b7ec5990e">starpu_tag_t</a>&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Posts a standard-mode, non blocking send of <code>data_handle</code> to the node <code>dest</code> using the message tag <code>mpi_tag</code> within the communicator <code>comm</code>. On completion, <code>tag</code> is unlocked. </p>

</div>
</div>
<a class="anchor" id="ga6cbbe5e484f38cb5e4e601330f2c5b0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_irecv_detached_unlock_tag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__API__Explicit__Dependencies.html#ga6e19fdd4a84d04323ee05e9b7ec5990e">starpu_tag_t</a>&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Posts a nonblocking receive in <code>data_handle</code> from the node <code>source</code> using the message tag <code>mpi_tag</code> within the communicator <code>comm</code>. On completion, <code>tag</code> is unlocked. </p>

</div>
</div>
<a class="anchor" id="ga546dbbe7e9e40817b23bd37fb0eccfe1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_isend_array_detached_unlock_tag </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>array_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> *&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm *&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__API__Explicit__Dependencies.html#ga6e19fdd4a84d04323ee05e9b7ec5990e">starpu_tag_t</a>&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Posts <code>array_size</code> standard-mode, non blocking send. Each post sends the n-th data of the array <code>data_handle</code> to the n-th node of the array <code>dest</code> using the n-th message tag of the array <code>mpi_tag</code> within the n-th communicator of the array <code>comm</code>. On completion of the all the requests, <code>tag</code> is unlocked. </p>

</div>
</div>
<a class="anchor" id="ga11f71926b324d325d8a6f6b72b58cdf1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_irecv_array_detached_unlock_tag </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>array_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> *&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>mpi_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm *&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__API__Explicit__Dependencies.html#ga6e19fdd4a84d04323ee05e9b7ec5990e">starpu_tag_t</a>&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Posts <code>array_size</code> nonblocking receive. Each post receives in the n-th data of the array <code>data_handle</code> from the n-th node of the array <code>source</code> using the n-th message tag of the array <code>mpi_tag</code> within the n-th communicator of the array <code>comm</code>. On completion of the all the requests, <code>tag</code> is unlocked. </p>

</div>
</div>
<a class="anchor" id="ga1d0194c08bd343a68c833f449fb62fa8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_get_communication_tag </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>todo </p>

</div>
</div>
<a class="anchor" id="gaa734bb0c57e4a48a7fe6e41f2e563e68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_mpi_set_communication_tag </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>todo </p>

</div>
</div>
<a class="anchor" id="gac0558236c9fb4cfc333f413c0ca191a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_cache_is_enabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return 1 if the communication cache is enabled, 0 otherwise </p>

</div>
</div>
<a class="anchor" id="ga82dceaf1ad42b9a0ab4ed22f9c03b1a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_cache_set </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>enabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If <code>enabled</code> is 1, enable the communication cache. Otherwise, clean the cache if it was enabled and disable it. </p>

</div>
</div>
<a class="anchor" id="gacb05635d95f946f099a1772c8bd59c8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_mpi_cache_flush </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the send and receive communication cache for the data <code>data_handle</code> and invalidate the value. The function has to be called synchronously by all the MPI nodes. The function does nothing if the cache mechanism is disabled (see <a class="el" href="ExecutionConfigurationThroughEnvironmentVariables.html#STARPU_MPI_CACHE">STARPU_MPI_CACHE</a>). </p>

</div>
</div>
<a class="anchor" id="gadf1f289d1cf35bd31df930bc347fb9ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_mpi_cache_flush_all_data </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the send and receive communication cache for all data and invalidate their values. The function has to be called synchronously by all the MPI nodes. The function does nothing if the cache mechanism is disabled (see <a class="el" href="ExecutionConfigurationThroughEnvironmentVariables.html#STARPU_MPI_CACHE">STARPU_MPI_CACHE</a>). </p>

</div>
</div>
<a class="anchor" id="ga83339cfcecff5b7e64f85e3e391aa783"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_mpi_data_register_comm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register to MPI a StarPU data handle with the given tag, rank and MPI communicator. It also automatically clears the MPI communication cache when unregistering the data. </p>

</div>
</div>
<a class="anchor" id="ga5eb9762df37404b659a49daec17e9c82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_mpi_data_set_tag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register to MPI a StarPU data handle with the given tag. No rank will be defined. It also automatically clears the MPI communication cache when unregistering the data. </p>

</div>
</div>
<a class="anchor" id="ga7d4b05715446d730022ea8a1fbac4f60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_mpi_data_set_rank_comm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register to MPI a StarPU data handle with the given rank and given communicator. No tag will be defined. It also automatically clears the MPI communication cache when unregistering the data. </p>

</div>
</div>
<a class="anchor" id="ga0a464b972068bac652622d6a1ed0a996"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_data_get_rank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the rank of the given data. </p>

</div>
</div>
<a class="anchor" id="gacf1e74720ea6884fd8d1ded3cb4eaae9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_data_get_tag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the tag of the given data. </p>

</div>
</div>
<a class="anchor" id="ga04229edbc905be8eefce8fb58bfccf8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_insert_task </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="group__API__Codelet__And__Tasks.html#structstarpu__codelet">starpu_codelet</a> *&#160;</td>
          <td class="paramname"><em>codelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function does the same as the function <a class="el" href="group__API__MPI__Support.html#gaa823d6398e61516bba887b90ad048914">starpu_mpi_task_insert()</a>. It has been kept to avoid breaking old codes. </p>

</div>
</div>
<a class="anchor" id="gaa823d6398e61516bba887b90ad048914"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_task_insert </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="group__API__Codelet__And__Tasks.html#structstarpu__codelet">starpu_codelet</a> *&#160;</td>
          <td class="paramname"><em>codelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create and submit a task corresponding to codelet with the following arguments. The argument list must be zero-terminated.</p>
<p>The arguments following the codelet are the same types as for the function <a class="el" href="group__API__Insert__Task.html#gad79a50a21fe717126659b2998209c1c6">starpu_task_insert()</a>. Access modes for data can also be set with <a class="el" href="group__API__Data__Management.html#gga1fb3a1ff8622747d653d1b5f41bc41dbaf96ec45077e70239a826867ed897bd0f">STARPU_SSEND</a> to specify the data has to be sent using a synchronous and non-blocking mode (see <a class="el" href="group__API__MPI__Support.html#ga8374cb42eb85e86e58ccfa8e0c5e8aab">starpu_mpi_issend()</a>). The extra argument <a class="el" href="group__API__MPI__Support.html#ga750b87a6ea137c903f02c53029d1131d">STARPU_EXECUTE_ON_NODE</a> followed by an integer allows to specify the MPI node to execute the codelet. It is also possible to specify that the node owning a specific data will execute the codelet, by using <a class="el" href="group__API__MPI__Support.html#gadc9112873f348b1f6daa0da4b93b061f">STARPU_EXECUTE_ON_DATA</a> followed by a data handle.</p>
<p>The internal algorithm is as follows: </p><ol>
<li>
Find out which MPI node is going to execute the codelet. <ul>
<li>
If there is only one node owning data in <a class="el" href="group__API__Data__Management.html#gga1fb3a1ff8622747d653d1b5f41bc41dba052ab75035ca297c7955363c605231c8">STARPU_W</a> mode, it will be selected; </li>
<li>
If there is several nodes owning data in <a class="el" href="group__API__Data__Management.html#gga1fb3a1ff8622747d653d1b5f41bc41dba052ab75035ca297c7955363c605231c8">STARPU_W</a> node, a node will be selected according to a given node selection policy (see ::STARPU_NODE_SELECTION_POLICY or <a class="el" href="group__API__MPI__Support.html#ga35f7d1ea8e747cbf1637301b14ef0db8">starpu_mpi_node_selection_set_current_policy()</a>) </li>
<li>
The argument <a class="el" href="group__API__MPI__Support.html#ga750b87a6ea137c903f02c53029d1131d">STARPU_EXECUTE_ON_NODE</a> followed by an integer can be used to specify the node; </li>
<li>
The argument <a class="el" href="group__API__MPI__Support.html#gadc9112873f348b1f6daa0da4b93b061f">STARPU_EXECUTE_ON_DATA</a> followed by a data handle can be used to specify that the node owing the given data will execute the codelet. </li>
</ul>
</li>
<li>
Send and receive data as requested. Nodes owning data which need to be read by the task are sending them to the MPI node which will execute it. The latter receives them.  </li>
<li>
Execute the codelet. This is done by the MPI node selected in the 1st step of the algorithm.  </li>
<li>
If several MPI nodes own data to be written to, send written data back to their owners.  </li>
</ol>
<p>The algorithm also includes a communication cache mechanism that allows not to send data twice to the same MPI node, unless the data has been modified. The cache can be disabled (see <a class="el" href="ExecutionConfigurationThroughEnvironmentVariables.html#STARPU_MPI_CACHE">STARPU_MPI_CACHE</a>). </p>

</div>
</div>
<a class="anchor" id="ga03f635684df3c110aea79ebd59f73165"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="group__API__Codelet__And__Tasks.html#structstarpu__task">starpu_task</a> * starpu_mpi_task_build </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="group__API__Codelet__And__Tasks.html#structstarpu__codelet">starpu_codelet</a> *&#160;</td>
          <td class="paramname"><em>codelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a task corresponding to codelet with the following arguments. The argument list must be zero-terminated. The function performs the first two steps of the function <a class="el" href="group__API__MPI__Support.html#gaa823d6398e61516bba887b90ad048914">starpu_mpi_task_insert()</a>. Only the MPI node selected in the first step of the algorithm will return a valid task structure which can then be submitted. The function <a class="el" href="group__API__MPI__Support.html#ga9c609f3cc579af484808b3e1b8b787d9">starpu_mpi_task_post_build()</a> MUST be called after the submission of the task, with the SAME list of arguments. </p>

</div>
</div>
<a class="anchor" id="ga9c609f3cc579af484808b3e1b8b787d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_task_post_build </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="group__API__Codelet__And__Tasks.html#structstarpu__codelet">starpu_codelet</a> *&#160;</td>
          <td class="paramname"><em>codelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function MUST be called after a call to <a class="el" href="group__API__MPI__Support.html#ga03f635684df3c110aea79ebd59f73165">starpu_mpi_task_build()</a>, with the SAME list of arguments. It performs the fourth &ndash; last &ndash; step of the algorithm described in <a class="el" href="group__API__MPI__Support.html#gaa823d6398e61516bba887b90ad048914">starpu_mpi_task_insert()</a>. </p>

</div>
</div>
<a class="anchor" id="ga0ca9fc89dc1315bf32f38cd14caf24a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_mpi_get_data_on_node </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfer data <code>data_handle</code> to MPI node <code>node</code>, sending it from its owner if needed. At least the target node and the owner have to call the function. </p>

</div>
</div>
<a class="anchor" id="ga6c581f7133773a98b583e0c51970ecb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_mpi_get_data_on_node_detached </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfer data <code>data_handle</code> to MPI node <code>node</code>, sending it from its owner if needed. At least the target node and the owner have to call the function. On reception, the <code>callback</code> function is called with the argument <code>arg</code>. </p>

</div>
</div>
<a class="anchor" id="ga9eb17d58fc8f0c33fc4e5985d440079e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_node_selection_get_current_policy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current policy used to select the node which will execute the codelet </p>

</div>
</div>
<a class="anchor" id="ga35f7d1ea8e747cbf1637301b14ef0db8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_node_selection_set_current_policy </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>policy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the current policy used to select the node which will execute the codelet. The policy STARPU_MPI_NODE_SELECTION_MOST_R_DATA selects the node having the most data in R mode so as to minimize the amount of data to be transfered. </p>

</div>
</div>
<a class="anchor" id="gab69b1f823043d16b7d0d799d1ad88a04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_node_selection_register_policy </td>
          <td>(</td>
          <td class="paramtype">starpu_mpi_select_node_policy_func_t&#160;</td>
          <td class="paramname"><em>policy_func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a new policy which can then be used when there is several nodes owning data in W mode. Here an example of function defining a node selection policy. The codelet will be executed on the node owing the first data with a size bigger than 1M, or on the node 0 if no data fits the given size. </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> my_node_selection_policy(<span class="keywordtype">int</span> me, <span class="keywordtype">int</span> nb_nodes, <span class="keyword">struct</span> <a class="code" href="group__API__Codelet__And__Tasks.html#structstarpu__data__descr">starpu_data_descr</a> *descr, <span class="keywordtype">int</span> nb_data)</div>
<div class="line">{</div>
<div class="line">        <span class="comment">// me is the current MPI rank</span></div>
<div class="line">        <span class="comment">// nb_nodes is the number of MPI nodes</span></div>
<div class="line">        <span class="comment">// descr is the description of the data specified when calling starpu_mpi_task_insert</span></div>
<div class="line">        <span class="comment">// nb_data is the number of data in descr</span></div>
<div class="line">        <span class="keywordtype">int</span> i;</div>
<div class="line">        <span class="keywordflow">for</span>(i= 0 ; i&lt;nb_data ; i++)</div>
<div class="line">        {</div>
<div class="line">                <a class="code" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> data = descr[i].<a class="code" href="group__API__Codelet__And__Tasks.html#acb02fc7b0a1ca4f6146cfe5eaaff8f87">handle</a>;</div>
<div class="line">                <span class="keyword">enum</span> <a class="code" href="group__API__Data__Management.html#ga1fb3a1ff8622747d653d1b5f41bc41db">starpu_data_access_mode</a> mode = descr[i].<a class="code" href="group__API__Codelet__And__Tasks.html#ab5db40a50f4f086fad3207d8e50de261">mode</a>;</div>
<div class="line">                <span class="keywordflow">if</span> (mode &amp; <a class="code" href="group__API__Data__Management.html#gga1fb3a1ff8622747d653d1b5f41bc41dbaa4c2445a344c592fb7b1adfcf1d2e1f5">STARPU_R</a>)</div>
<div class="line">                {</div>
<div class="line">                        <span class="keywordtype">int</span> rank = <a class="code" href="group__API__MPI__Support.html#ga5281ad23b39e64ca254347e89cbb54e2">starpu_data_get_rank</a>(data);</div>
<div class="line">                        <span class="keywordtype">size_t</span> size = <a class="code" href="group__API__Data__Interfaces.html#gac14cfc52c450c81dd4789a7aace79d3b">starpu_data_get_size</a>(data);</div>
<div class="line">                        <span class="keywordflow">if</span> (size &gt; 1024*1024) <span class="keywordflow">return</span> rank;</div>
<div class="line">                }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gad6453ef7697756dd3b1746399eec4867"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_node_selection_unregister_policy </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>policy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unregister a previously registered policy. </p>

</div>
</div>
<a class="anchor" id="ga565996704c6707a55410488f8d569357"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void starpu_mpi_redux_data </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform a reduction on the given data. All nodes send the data to its owner node which will perform a reduction. </p>

</div>
</div>
<a class="anchor" id="ga39ae075749aef08653ade368b9a95ee0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_scatter_detached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> *&#160;</td>
          <td class="paramname"><em>data_handles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>scallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sarg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>rcallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scatter data among processes of the communicator based on the ownership of the data. For each data of the array <code>data_handles</code>, the process <code>root</code> sends the data to the process owning this data. Processes receiving data must have valid data handles to receive them. On completion of the collective communication, the <code>scallback</code> function is called with the argument <code>sarg</code> on the process <code>root</code>, the <code>rcallback</code> function is called with the argument <code>rarg</code> on any other process. </p>

</div>
</div>
<a class="anchor" id="gaf83405a3154137f00ccf554c5e5684b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int starpu_mpi_gather_detached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__API__Data__Management.html#ga5f517ab725864d54b0459896a8f8ae07">starpu_data_handle_t</a> *&#160;</td>
          <td class="paramname"><em>data_handles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>scallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sarg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>rcallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gather data from the different processes of the communicator onto the process <code>root</code>. Each process owning data handle in the array <code>data_handles</code> will send them to the process <code>root</code>. The process <code>root</code> must have valid data handles to receive the data. On completion of the collective communication, the <code>rcallback</code> function is called with the argument <code>rarg</code> on the process root, the <code>scallback</code> function is called with the argument <code>sarg</code> on any other process. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed May 6 2015 21:13:12 for StarPU Handbook by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
